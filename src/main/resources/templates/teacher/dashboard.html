<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>

<style>
    .chat-bubble {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 280px;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
        font-family: 'Segoe UI', sans-serif;
        z-index: 999;
        overflow: hidden;
    }

    .chat-header {
        background: #198754;
        color: white;
        padding: 10px;
        font-weight: bold;
        text-align: center;
    }

    .chat-body {
        padding: 10px;
        font-size: 14px;
    }

    .message.bot {
        background: #f8f9fa;
        padding: 8px 12px;
        border-radius: 10px;
    }

    .chat-footer {
        padding: 10px;
        border-top: 1px solid #ddd;
    }

    .chat-footer .btn {
        font-size: 14px;
    }
</style>
<body>
<div th:insert="fragments/navbar :: navbar"></div>
<div class="text-end mb-3">
    <span sec:authentication="name" class="me-2"></span>
    <span sec:authorize="hasRole('ADMIN')" class="badge bg-danger">ADMIN</span>
    <span sec:authorize="hasRole('TEACHER')" class="badge bg-primary">TEACHER</span>
    <span sec:authorize="hasRole('STUDENT')" class="badge bg-success">STUDENT</span>
    <form th:action="@{/logout}" method="post" class="d-inline">
        <button type="submit" class="btn btn-sm btn-danger">ƒêƒÉng xu·∫•t</button>
    </form>
</div>
<div class="container mt-4">
    <h2> Trang ch√≠nh gi√°o vi√™n</h2>
    <div class="row">
        <div class="col-md-4">
            <div class="card text-bg-primary mb-3">
                <div class="card-body">
                    <h5 class="card-title"> T·ªïng s·ªë ƒë·ªÅ ki·ªÉm tra</h5>
                    <p class="card-text" th:text="${totalTests}">0</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-bg-success mb-3">
                <div class="card-body">
                    <h5 class="card-title"> T·ªïng s·ªë h·ªçc vi√™n</h5>
                    <p class="card-text" th:text="${totalStudents}">0</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-bg-warning mb-3">
                <div class="card-body">
                    <h5 class="card-title">B√†i l√†m ƒë√£ ch·∫•m</h5>
                    <p class="card-text" th:text="${gradedSubmissions}">0</p>
                </div>
            </div>
        </div>
    </div>


    <!-- Bong b√≥ng chat ƒë∆°n gi·∫£n -->
    <div id="ai-chat-bubble" class="chat-bubble">
        <div class="chat-header">ü§ñ Tr·ª£ l√Ω AI</div>
        <div class="chat-body">
            <div class="message bot">
                B·∫°n mu·ªën sinh c√¢u h·ªèi b·∫±ng AI? B·∫•m n√∫t b√™n d∆∞·ªõi ƒë·ªÉ b·∫Øt ƒë·∫ßu nh√©!
            </div>
        </div>
        <div class="chat-footer">
            <a href="/teacher/tests/generate-ai" class="btn btn-success w-100">üöÄ B·∫Øt ƒë·∫ßu sinh c√¢u h·ªèi</a>
        </div>
    </div>
</div>

</body>
</html>